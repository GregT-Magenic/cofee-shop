<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1064px" preserveAspectRatio="none" style="width:1783px;height:1064px;" version="1.1" viewBox="0 0 1783 1064" width="1783px" zoomAndPan="magnify"><defs><filter height="300%" id="f1l3bbl4uq2qbr" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacing" textLength="168" x="801" y="16.708">Coffee Shop Model</text><!--MD5=[e9467d9b91a37903b06cf4fbf2352c88]
cluster ordering--><polygon fill="#FFFFFF" filter="url(#f1l3bbl4uq2qbr)" points="16,26.9531,90,26.9531,97,49.25,792,49.25,792,1057.9531,16,1057.9531,16,26.9531" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="16" x2="97" y1="49.25" y2="49.25"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="68" x="20" y="41.9482">ordering</text><!--MD5=[2766a367a4a8c35b562b373df6255952]
cluster payment--><polygon fill="#FFFFFF" filter="url(#f1l3bbl4uq2qbr)" points="816,76.9531,890,76.9531,897,99.25,1040,99.25,1040,152.9531,816,152.9531,816,76.9531" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="816" x2="897" y1="99.25" y2="99.25"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="68" x="820" y="91.9482">payment</text><!--MD5=[9496b5050aed6bf925720072b82e4c4a]
cluster kitchen--><polygon fill="#FFFFFF" filter="url(#f1l3bbl4uq2qbr)" points="1064,76.9531,1128,76.9531,1135,99.25,1394,99.25,1394,152.9531,1064,152.9531,1064,76.9531" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="1064" x2="1135" y1="99.25" y2="99.25"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="58" x="1068" y="91.9482">kitchen</text><!--MD5=[ed77a744da6e37a7124812c9a9bebb4a]
cluster supplier--><polygon fill="#FFFFFF" filter="url(#f1l3bbl4uq2qbr)" points="1418,76.9531,1488,76.9531,1495,99.25,1562,99.25,1562,152.9531,1418,152.9531,1418,76.9531" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="1418" x2="1495" y1="99.25" y2="99.25"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="64" x="1422" y="91.9482">supplier</text><!--MD5=[5cd944cb279293b89f9d12f5940b5cb2]
cluster management--><polygon fill="#FFFFFF" filter="url(#f1l3bbl4uq2qbr)" points="1586,76.9531,1694,76.9531,1701,99.25,1766,99.25,1766,152.9531,1586,152.9531,1586,76.9531" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="1586" x2="1701" y1="99.25" y2="99.25"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="102" x="1590" y="91.9482">management</text><!--MD5=[edf33383e1839779ea42c598dd49c6d3]
class ordering.Order--><rect codeLine="6" fill="#FEFECE" filter="url(#f1l3bbl4uq2qbr)" height="124.8281" id="ordering.Order" style="stroke:#A80036;stroke-width:1.5;" width="504" x="272" y="61.9531"/><ellipse cx="502.25" cy="77.9531" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M505.2188,83.5938 Q504.6406,83.8906 504,84.0313 Q503.3594,84.1875 502.6563,84.1875 Q500.1563,84.1875 498.8281,82.5469 Q497.5156,80.8906 497.5156,77.7656 Q497.5156,74.6406 498.8281,72.9844 Q500.1563,71.3281 502.6563,71.3281 Q503.3594,71.3281 504,71.4844 Q504.6563,71.6406 505.2188,71.9375 L505.2188,74.6563 Q504.5938,74.0781 504,73.8125 Q503.4063,73.5313 502.7813,73.5313 Q501.4375,73.5313 500.75,74.6094 Q500.0625,75.6719 500.0625,77.7656 Q500.0625,79.8594 500.75,80.9375 Q501.4375,82 502.7813,82 Q503.4063,82 504,81.7344 Q504.5938,81.4531 505.2188,80.875 L505.2188,83.5938 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="35" x="522.75" y="82.1074">Order</text><line style="stroke:#A80036;stroke-width:1.5;" x1="273" x2="775" y1="93.9531" y2="93.9531"/><ellipse cx="283" cy="104.9531" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="58" x="292" y="108.1636">id: integer</text><line style="stroke:#A80036;stroke-width:1.5;" x1="273" x2="775" y1="114.7578" y2="114.7578"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="492" x="278" y="128.9683">void addOrderItem(menuItem: MenuItem, quantity: integer, specialInstructions: String)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="254" x="278" y="141.7729">void removeOrderItem(OrderItem orderItem)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="141" x="278" y="154.5776">void submitForPayment()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="71" x="278" y="167.3823">void cancel()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="172" x="278" y="180.187">CurrencyValue calculatePrice()</text><!--MD5=[4d14d265d77881527bc9f67889369cdc]
class ordering.OrderItem--><rect codeLine="39" fill="#FEFECE" filter="url(#f1l3bbl4uq2qbr)" height="86.4141" id="ordering.OrderItem" style="stroke:#A80036;stroke-width:1.5;" width="175" x="134.5" y="283.4531"/><ellipse cx="186.75" cy="299.4531" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M189.7188,305.0938 Q189.1406,305.3906 188.5,305.5313 Q187.8594,305.6875 187.1563,305.6875 Q184.6563,305.6875 183.3281,304.0469 Q182.0156,302.3906 182.0156,299.2656 Q182.0156,296.1406 183.3281,294.4844 Q184.6563,292.8281 187.1563,292.8281 Q187.8594,292.8281 188.5,292.9844 Q189.1563,293.1406 189.7188,293.4375 L189.7188,296.1563 Q189.0938,295.5781 188.5,295.3125 Q187.9063,295.0313 187.2813,295.0313 Q185.9375,295.0313 185.25,296.1094 Q184.5625,297.1719 184.5625,299.2656 Q184.5625,301.3594 185.25,302.4375 Q185.9375,303.5 187.2813,303.5 Q187.9063,303.5 188.5,303.2344 Q189.0938,302.9531 189.7188,302.375 L189.7188,305.0938 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="62" x="207.25" y="303.6074">OrderItem</text><line style="stroke:#A80036;stroke-width:1.5;" x1="135.5" x2="308.5" y1="315.4531" y2="315.4531"/><ellipse cx="145.5" cy="326.4531" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="58" x="154.5" y="329.6636">id: integer</text><ellipse cx="145.5" cy="339.2578" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="149" x="154.5" y="342.4683">specialInstructions: String</text><ellipse cx="145.5" cy="352.0625" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="93" x="154.5" y="355.2729">quantity: integer</text><line style="stroke:#A80036;stroke-width:1.5;" x1="135.5" x2="308.5" y1="361.8672" y2="361.8672"/><!--MD5=[952b4b4b436b1341d9ded23b92359331]
class ordering.Customer--><rect codeLine="35" fill="#FEFECE" filter="url(#f1l3bbl4uq2qbr)" height="60.8047" id="ordering.Customer" style="stroke:#A80036;stroke-width:1.5;" width="92" x="345" y="295.9531"/><ellipse cx="360" cy="311.9531" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M362.9688,317.5938 Q362.3906,317.8906 361.75,318.0313 Q361.1094,318.1875 360.4063,318.1875 Q357.9063,318.1875 356.5781,316.5469 Q355.2656,314.8906 355.2656,311.7656 Q355.2656,308.6406 356.5781,306.9844 Q357.9063,305.3281 360.4063,305.3281 Q361.1094,305.3281 361.75,305.4844 Q362.4063,305.6406 362.9688,305.9375 L362.9688,308.6563 Q362.3438,308.0781 361.75,307.8125 Q361.1563,307.5313 360.5313,307.5313 Q359.1875,307.5313 358.5,308.6094 Q357.8125,309.6719 357.8125,311.7656 Q357.8125,313.8594 358.5,314.9375 Q359.1875,316 360.5313,316 Q361.1563,316 361.75,315.7344 Q362.3438,315.4531 362.9688,314.875 L362.9688,317.5938 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="60" x="374" y="316.1074">Customer</text><line style="stroke:#A80036;stroke-width:1.5;" x1="346" x2="436" y1="327.9531" y2="327.9531"/><ellipse cx="356" cy="338.9531" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="58" x="365" y="342.1636">id: integer</text><line style="stroke:#A80036;stroke-width:1.5;" x1="346" x2="436" y1="348.7578" y2="348.7578"/><!--MD5=[332ee649207588275faf0ffb552c1e54]
class ordering.Promotions--><rect fill="#FEFECE" filter="url(#f1l3bbl4uq2qbr)" height="48" id="ordering.Promotions" style="stroke:#A80036;stroke-width:1.5;" width="103" x="472.5" y="302.4531"/><ellipse cx="487.5" cy="318.4531" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M490.4688,324.0938 Q489.8906,324.3906 489.25,324.5313 Q488.6094,324.6875 487.9063,324.6875 Q485.4063,324.6875 484.0781,323.0469 Q482.7656,321.3906 482.7656,318.2656 Q482.7656,315.1406 484.0781,313.4844 Q485.4063,311.8281 487.9063,311.8281 Q488.6094,311.8281 489.25,311.9844 Q489.9063,312.1406 490.4688,312.4375 L490.4688,315.1563 Q489.8438,314.5781 489.25,314.3125 Q488.6563,314.0313 488.0313,314.0313 Q486.6875,314.0313 486,315.1094 Q485.3125,316.1719 485.3125,318.2656 Q485.3125,320.3594 486,321.4375 Q486.6875,322.5 488.0313,322.5 Q488.6563,322.5 489.25,322.2344 Q489.8438,321.9531 490.4688,321.375 L490.4688,324.0938 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="71" x="501.5" y="322.6074">Promotions</text><line style="stroke:#A80036;stroke-width:1.5;" x1="473.5" x2="574.5" y1="334.4531" y2="334.4531"/><line style="stroke:#A80036;stroke-width:1.5;" x1="473.5" x2="574.5" y1="342.4531" y2="342.4531"/><!--MD5=[8379ef2c11dfcd3838c6d16657772e24]
class ordering.OrderStatus--><rect codeLine="24" fill="#FEFECE" filter="url(#f1l3bbl4uq2qbr)" height="124.8281" id="ordering.OrderStatus" style="stroke:#A80036;stroke-width:1.5;" width="120" x="611" y="263.9531"/><ellipse cx="631.4" cy="279.9531" fill="#EB937F" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M635.5094,285.9531 L627.7906,285.9531 L627.7906,273.5625 L635.5094,273.5625 L635.5094,275.7188 L630.2438,275.7188 L630.2438,278.3906 L635.0094,278.3906 L635.0094,280.5469 L630.2438,280.5469 L630.2438,283.7969 L635.5094,283.7969 L635.5094,285.9531 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="76" x="646.6" y="284.1074">OrderStatus</text><line style="stroke:#A80036;stroke-width:1.5;" x1="612" x2="730" y1="295.9531" y2="295.9531"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="59" x="617" y="310.1636">RECEIVING</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="108" x="617" y="322.9683">PAYMENT_PENDING</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="25" x="617" y="335.7729">PAID</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="36" x="617" y="348.5776">READY</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="60" x="617" y="361.3823">COMPLETE</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="65" x="617" y="374.187">CANCELLED</text><line style="stroke:#A80036;stroke-width:1.5;" x1="612" x2="730" y1="380.7813" y2="380.7813"/><!--MD5=[0d3e8bdcb9d32d02479e0f7a99c0b8ac]
class ordering.OrderSubmittedForPayment--><rect codeLine="19" fill="#FEFECE" filter="url(#f1l3bbl4uq2qbr)" height="79.5469" id="ordering.OrderSubmittedForPayment" style="stroke:#A80036;stroke-width:1.5;" width="205" x="31.5" y="84.4531"/><ellipse cx="46.5" cy="103.4219" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M49.4688,109.0625 Q48.8906,109.3594 48.25,109.5 Q47.6094,109.6563 46.9063,109.6563 Q44.4063,109.6563 43.0781,108.0156 Q41.7656,106.3594 41.7656,103.2344 Q41.7656,100.1094 43.0781,98.4531 Q44.4063,96.7969 46.9063,96.7969 Q47.6094,96.7969 48.25,96.9531 Q48.9063,97.1094 49.4688,97.4063 L49.4688,100.125 Q48.8438,99.5469 48.25,99.2813 Q47.6563,99 47.0313,99 Q45.6875,99 45,100.0781 Q44.3125,101.1406 44.3125,103.2344 Q44.3125,105.3281 45,106.4063 Q45.6875,107.4688 47.0313,107.4688 Q47.6563,107.4688 48.25,107.2031 Q48.8438,106.9219 49.4688,106.3438 L49.4688,109.0625 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="49" x="122.5" y="100.5918">«event»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="173" x="60.5" y="114.5605">OrderSubmittedForPayment</text><line style="stroke:#A80036;stroke-width:1.5;" x1="32.5" x2="235.5" y1="122.3906" y2="122.3906"/><ellipse cx="42.5" cy="133.3906" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="89" x="51.5" y="136.6011">orderId: integer</text><ellipse cx="42.5" cy="146.1953" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="168" x="51.5" y="149.4058">calculatePrice: CurrencyValue</text><line style="stroke:#A80036;stroke-width:1.5;" x1="32.5" x2="235.5" y1="156" y2="156"/><path d="M474,449.9531 L474,596.1484 A0,0 0 0 0 474,596.1484 L776,596.1484 A0,0 0 0 0 776,596.1484 L776,459.9531 L766,449.9531 L646.03,449.9531 L656.45,388.9931 L638.03,449.9531 L474,449.9531 A0,0 0 0 0 474,449.9531 " fill="#FBFB77" filter="url(#f1l3bbl4uq2qbr)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M766,449.9531 L766,459.9531 L776,459.9531 L766,449.9531 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="281" x="480" y="467.02">Orders are created in the RECEIVING status.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="233" x="480" y="482.1528">submitForPayment() moves them to</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="269" x="480" y="497.2856">PAYMENT_PENDING they can no longer be</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="270" x="480" y="512.4185">updated, but they can be reverted back to</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="268" x="480" y="527.5513">RECEIVING status. The order system waits</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="280" x="480" y="542.6841">for an OrderPaid event to transition to PAID,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="265" x="480" y="557.8169">and waits for OrderPrepared events for all</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="279" x="480" y="572.9497">the OrderItems. Orders in RECEIVING status</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="107" x="480" y="588.0825">can be cancelled</text><!--MD5=[cec363cb0be2ffa855d107ff2828c1d0]
class ordering.MenuItem--><rect fill="#FEFECE" filter="url(#f1l3bbl4uq2qbr)" height="48" id="ordering.MenuItem" style="stroke:#A80036;stroke-width:1.5;" width="93" x="239.5" y="498.9531"/><ellipse cx="254.5" cy="514.9531" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M257.4688,520.5938 Q256.8906,520.8906 256.25,521.0313 Q255.6094,521.1875 254.9063,521.1875 Q252.4063,521.1875 251.0781,519.5469 Q249.7656,517.8906 249.7656,514.7656 Q249.7656,511.6406 251.0781,509.9844 Q252.4063,508.3281 254.9063,508.3281 Q255.6094,508.3281 256.25,508.4844 Q256.9063,508.6406 257.4688,508.9375 L257.4688,511.6563 Q256.8438,511.0781 256.25,510.8125 Q255.6563,510.5313 255.0313,510.5313 Q253.6875,510.5313 253,511.6094 Q252.3125,512.6719 252.3125,514.7656 Q252.3125,516.8594 253,517.9375 Q253.6875,519 255.0313,519 Q255.6563,519 256.25,518.7344 Q256.8438,518.4531 257.4688,517.875 L257.4688,520.5938 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="61" x="268.5" y="519.1074">MenuItem</text><line style="stroke:#A80036;stroke-width:1.5;" x1="240.5" x2="331.5" y1="530.9531" y2="530.9531"/><line style="stroke:#A80036;stroke-width:1.5;" x1="240.5" x2="331.5" y1="538.9531" y2="538.9531"/><!--MD5=[853d1e8688560eff8b2f1ebc4f094155]
class ordering.Size--><rect codeLine="61" fill="#FEFECE" filter="url(#f1l3bbl4uq2qbr)" height="60.8047" id="ordering.Size" style="stroke:#A80036;stroke-width:1.5;" width="138" x="129" y="791.9531"/><ellipse cx="181.75" cy="807.9531" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M184.7188,813.5938 Q184.1406,813.8906 183.5,814.0313 Q182.8594,814.1875 182.1563,814.1875 Q179.6563,814.1875 178.3281,812.5469 Q177.0156,810.8906 177.0156,807.7656 Q177.0156,804.6406 178.3281,802.9844 Q179.6563,801.3281 182.1563,801.3281 Q182.8594,801.3281 183.5,801.4844 Q184.1563,801.6406 184.7188,801.9375 L184.7188,804.6563 Q184.0938,804.0781 183.5,803.8125 Q182.9063,803.5313 182.2813,803.5313 Q180.9375,803.5313 180.25,804.6094 Q179.5625,805.6719 179.5625,807.7656 Q179.5625,809.8594 180.25,810.9375 Q180.9375,812 182.2813,812 Q182.9063,812 183.5,811.7344 Q184.0938,811.4531 184.7188,810.875 L184.7188,813.5938 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="24" x="202.25" y="812.1074">Size</text><line style="stroke:#A80036;stroke-width:1.5;" x1="130" x2="266" y1="823.9531" y2="823.9531"/><ellipse cx="140" cy="834.9531" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="112" x="149" y="838.1636">quanity: BigDecimal</text><line style="stroke:#A80036;stroke-width:1.5;" x1="130" x2="266" y1="844.7578" y2="844.7578"/><!--MD5=[b2b0646daa3754f846b6df9fdbdbf161]
class ordering.FoodBeverage--><rect codeLine="50" fill="#FEFECE" filter="url(#f1l3bbl4uq2qbr)" height="73.6094" id="ordering.FoodBeverage" style="stroke:#A80036;stroke-width:1.5;" width="131" x="373.5" y="656.9531"/><ellipse cx="392.55" cy="672.9531" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M395.5188,678.5938 Q394.9406,678.8906 394.3,679.0313 Q393.6594,679.1875 392.9563,679.1875 Q390.4563,679.1875 389.1281,677.5469 Q387.8156,675.8906 387.8156,672.7656 Q387.8156,669.6406 389.1281,667.9844 Q390.4563,666.3281 392.9563,666.3281 Q393.6594,666.3281 394.3,666.4844 Q394.9563,666.6406 395.5188,666.9375 L395.5188,669.6563 Q394.8938,669.0781 394.3,668.8125 Q393.7063,668.5313 393.0813,668.5313 Q391.7375,668.5313 391.05,669.6094 Q390.3625,670.6719 390.3625,672.7656 Q390.3625,674.8594 391.05,675.9375 Q391.7375,677 393.0813,677 Q393.7063,677 394.3,676.7344 Q394.8938,676.4531 395.5188,675.875 L395.5188,678.5938 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="90" x="407.45" y="677.1074">FoodBeverage</text><line style="stroke:#A80036;stroke-width:1.5;" x1="374.5" x2="503.5" y1="688.9531" y2="688.9531"/><ellipse cx="384.5" cy="699.9531" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="74" x="393.5" y="703.1636">name: String</text><ellipse cx="384.5" cy="712.7578" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="105" x="393.5" y="715.9683">description: String</text><line style="stroke:#A80036;stroke-width:1.5;" x1="374.5" x2="503.5" y1="722.5625" y2="722.5625"/><!--MD5=[92749f12d8d6e1c9f5794bd474a40071]
class ordering.PricingOffer--><rect codeLine="55" fill="#FEFECE" filter="url(#f1l3bbl4uq2qbr)" height="60.8047" id="ordering.PricingOffer" style="stroke:#A80036;stroke-width:1.5;" width="104" x="234" y="663.4531"/><ellipse cx="249" cy="679.4531" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M251.9688,685.0938 Q251.3906,685.3906 250.75,685.5313 Q250.1094,685.6875 249.4063,685.6875 Q246.9063,685.6875 245.5781,684.0469 Q244.2656,682.3906 244.2656,679.2656 Q244.2656,676.1406 245.5781,674.4844 Q246.9063,672.8281 249.4063,672.8281 Q250.1094,672.8281 250.75,672.9844 Q251.4063,673.1406 251.9688,673.4375 L251.9688,676.1563 Q251.3438,675.5781 250.75,675.3125 Q250.1563,675.0313 249.5313,675.0313 Q248.1875,675.0313 247.5,676.1094 Q246.8125,677.1719 246.8125,679.2656 Q246.8125,681.3594 247.5,682.4375 Q248.1875,683.5 249.5313,683.5 Q250.1563,683.5 250.75,683.2344 Q251.3438,682.9531 251.9688,682.375 L251.9688,685.0938 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="72" x="263" y="683.6074">PricingOffer</text><line style="stroke:#A80036;stroke-width:1.5;" x1="235" x2="337" y1="695.4531" y2="695.4531"/><ellipse cx="245" cy="706.4531" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="74" x="254" y="709.6636">name: String</text><line style="stroke:#A80036;stroke-width:1.5;" x1="235" x2="337" y1="716.2578" y2="716.2578"/><!--MD5=[69c998001f9e2ead5cf0f6f717ed3d22]
class ordering.CurrencyValue--><rect codeLine="74" fill="#FEFECE" filter="url(#f1l3bbl4uq2qbr)" height="60.8047" id="ordering.CurrencyValue" style="stroke:#A80036;stroke-width:1.5;" width="138" x="302" y="791.9531"/><ellipse cx="324.2" cy="807.9531" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M327.1688,813.5938 Q326.5906,813.8906 325.95,814.0313 Q325.3094,814.1875 324.6063,814.1875 Q322.1063,814.1875 320.7781,812.5469 Q319.4656,810.8906 319.4656,807.7656 Q319.4656,804.6406 320.7781,802.9844 Q322.1063,801.3281 324.6063,801.3281 Q325.3094,801.3281 325.95,801.4844 Q326.6063,801.6406 327.1688,801.9375 L327.1688,804.6563 Q326.5438,804.0781 325.95,803.8125 Q325.3563,803.5313 324.7313,803.5313 Q323.3875,803.5313 322.7,804.6094 Q322.0125,805.6719 322.0125,807.7656 Q322.0125,809.8594 322.7,810.9375 Q323.3875,812 324.7313,812 Q325.3563,812 325.95,811.7344 Q326.5438,811.4531 327.1688,810.875 L327.1688,813.5938 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="90" x="339.8" y="812.1074">CurrencyValue</text><line style="stroke:#A80036;stroke-width:1.5;" x1="303" x2="439" y1="823.9531" y2="823.9531"/><ellipse cx="313" cy="834.9531" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="112" x="322" y="838.1636">quanity: BigDecimal</text><line style="stroke:#A80036;stroke-width:1.5;" x1="303" x2="439" y1="844.7578" y2="844.7578"/><!--MD5=[fcc62587024f244f9a1ea01e264e2321]
class ordering.MeasurementUnit--><rect codeLine="66" fill="#FEFECE" filter="url(#f1l3bbl4uq2qbr)" height="112.0234" id="ordering.MeasurementUnit" style="stroke:#A80036;stroke-width:1.5;" width="143" x="126.5" y="929.9531"/><ellipse cx="141.5" cy="945.9531" fill="#EB937F" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M145.6094,951.9531 L137.8906,951.9531 L137.8906,939.5625 L145.6094,939.5625 L145.6094,941.7188 L140.3438,941.7188 L140.3438,944.3906 L145.1094,944.3906 L145.1094,946.5469 L140.3438,946.5469 L140.3438,949.7969 L145.6094,949.7969 L145.6094,951.9531 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="111" x="155.5" y="950.1074">MeasurementUnit</text><line style="stroke:#A80036;stroke-width:1.5;" x1="127.5" x2="268.5" y1="961.9531" y2="961.9531"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="40" x="132.5" y="976.1636">PIECES</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="65" x="132.5" y="988.9683">KILOGRAMS</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="48" x="132.5" y="1001.7729">POUNDS</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="38" x="132.5" y="1014.5776">LITRES</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="77" x="132.5" y="1027.3823">FLUID_OUNCE</text><line style="stroke:#A80036;stroke-width:1.5;" x1="127.5" x2="268.5" y1="1033.9766" y2="1033.9766"/><!--MD5=[16657c4e4ddc6d4f45d223058afd5843]
class ordering.Currency--><rect codeLine="79" fill="#FEFECE" filter="url(#f1l3bbl4uq2qbr)" height="86.4141" id="ordering.Currency" style="stroke:#A80036;stroke-width:1.5;" width="98" x="322" y="942.9531"/><ellipse cx="341.95" cy="958.9531" fill="#EB937F" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M346.0594,964.9531 L338.3406,964.9531 L338.3406,952.5625 L346.0594,952.5625 L346.0594,954.7188 L340.7938,954.7188 L340.7938,957.3906 L345.5594,957.3906 L345.5594,959.5469 L340.7938,959.5469 L340.7938,962.7969 L346.0594,962.7969 L346.0594,964.9531 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="55" x="357.05" y="963.1074">Currency</text><line style="stroke:#A80036;stroke-width:1.5;" x1="323" x2="419" y1="974.9531" y2="974.9531"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="65" x="328" y="989.1636">US_DOLLAR</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="86" x="328" y="1001.9683">MEXICAN_PESO</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="46" x="328" y="1014.7729">BITCOIN</text><line style="stroke:#A80036;stroke-width:1.5;" x1="323" x2="419" y1="1021.3672" y2="1021.3672"/><path d="M832,111.9531 L832,137.0859 L1024,137.0859 L1024,121.9531 L1014,111.9531 L832,111.9531 " fill="#FBFB77" filter="url(#f1l3bbl4uq2qbr)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1014,111.9531 L1014,121.9531 L1024,121.9531 L1014,111.9531 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="171" x="838" y="129.02">TODO payment processing</text><path d="M1080,111.9531 L1080,137.0859 L1378,137.0859 L1378,121.9531 L1368,111.9531 L1080,111.9531 " fill="#FBFB77" filter="url(#f1l3bbl4uq2qbr)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1368,111.9531 L1368,121.9531 L1378,121.9531 L1368,111.9531 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="277" x="1086" y="129.02">TODO food and beverage order preparation</text><path d="M1434,111.9531 L1434,137.0859 L1546,137.0859 L1546,121.9531 L1536,111.9531 L1434,111.9531 " fill="#FBFB77" filter="url(#f1l3bbl4uq2qbr)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1536,111.9531 L1536,121.9531 L1546,121.9531 L1536,111.9531 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="1440" y="129.02">TODO supplier</text><path d="M1601.5,111.9531 L1601.5,137.0859 L1750.5,137.0859 L1750.5,121.9531 L1740.5,111.9531 L1601.5,111.9531 " fill="#FBFB77" filter="url(#f1l3bbl4uq2qbr)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1740.5,111.9531 L1740.5,121.9531 L1750.5,121.9531 L1740.5,111.9531 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="128" x="1607.5" y="129.02">TODO management</text><!--MD5=[41a1e86a3d12ba7d128e46deb70f1330]
reverse link ordering.Order to ordering.OrderItem--><path codeLine="14" d="M420.01,194.3231 C375.33,223.9131 324.56,257.5331 285.61,283.3331 " fill="none" id="ordering.Order-backto-ordering.OrderItem" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="430.93,187.0931,423.7189,187.0734,420.9272,193.7221,428.1383,193.7419,430.93,187.0931" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="23" x="270.915" y="272.31">0..*</text><!--MD5=[b2291ccb851cbd975bd3d42fa168d326]
reverse link ordering.Order to ordering.Customer--><path codeLine="15" d="M475.54,198.3231 C453.13,232.0331 427.75,270.1831 410.7,295.8231 " fill="none" id="ordering.Order-backto-ordering.Customer" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#FFFFFF" points="483.01,187.0931,476.357,189.8747,476.3658,197.0858,483.0188,194.3042,483.01,187.0931" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="24" x="388.2881" y="285.0595">0..1</text><!--MD5=[7749872b7a3a5968a8431cce696eb47d]
reverse link ordering.Order to ordering.Promotions--><path codeLine="16" d="M524,200.1831 C524,236.4231 524,277.3831 524,302.3131 " fill="none" id="ordering.Order-backto-ordering.Promotions" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#FFFFFF" points="524,187.0931,520,193.0931,524,199.0931,528,193.0931,524,187.0931" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="23" x="498.0531" y="291.2893">0..*</text><!--MD5=[88d59f4bd08d38cec72fd1ad572d6841]
link ordering.Order to ordering.OrderStatus--><path codeLine="17" d="M569.3,187.0931 C587.19,211.4231 607.7,239.3231 625.59,263.6731 " fill="none" id="ordering.Order-ordering.OrderStatus" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="30" x="602" y="230.02">uses</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="612.1858" y="253.0698">1</text><!--MD5=[9b06634e7d1fc6c89e01e9fee03c4155]
reverse link ordering.OrderItem to ordering.MenuItem--><path codeLine="44" d="M240.02,382.2231 C252.67,420.6531 268.94,470.1031 278.35,498.6931 " fill="none" id="ordering.OrderItem-backto-ordering.MenuItem" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#FFFFFF" points="235.89,369.6531,233.9636,376.6022,239.6372,381.0531,241.5636,374.104,235.89,369.6531" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="267.5103" y="488.0347">1</text><!--MD5=[acaed675b03565ea47d032076c481ffa]
reverse link ordering.OrderItem to ordering.Size--><path codeLine="45" d="M219.32,382.6231 C214.24,487.2431 203.35,711.2531 199.44,791.8231 " fill="none" id="ordering.OrderItem-backto-ordering.Size" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="219.95,369.5731,215.6646,375.3727,219.3698,381.5591,223.6552,375.7595,219.95,369.5731" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="190.912" y="781.0595">1</text><!--MD5=[a075b0f8c9613c11e605ef40705e42d5]
reverse link ordering.MenuItem to ordering.FoodBeverage--><path codeLine="47" d="M315.96,557.0531 C341.95,585.7631 379.5,627.2331 406.27,656.8031 " fill="none" id="ordering.MenuItem-backto-ordering.FoodBeverage" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="306.95,547.0931,308.0163,554.225,315.0096,555.9837,313.9433,548.8519,306.95,547.0931" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="23" x="375.3915" y="645.9634">1..*</text><!--MD5=[7cc19f8f58ddbfd02d84efeaf8169ffd]
reverse link ordering.MenuItem to ordering.PricingOffer--><path codeLine="48" d="M286,560.2331 C286,590.9831 286,634.5631 286,663.2731 " fill="none" id="ordering.MenuItem-backto-ordering.PricingOffer" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="286,547.0931,282,553.0931,286,559.0931,290,553.0931,286,547.0931" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="23" x="260.6281" y="652.4992">1..*</text><!--MD5=[efe1f79cbb17d6d6b643969c12c2e954]
reverse link ordering.PricingOffer to ordering.Size--><path codeLine="58" d="M257.79,735.5031 C245.12,753.7131 230.45,774.8031 218.81,791.5431 " fill="none" id="ordering.PricingOffer-backto-ordering.Size" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="265.37,724.6131,258.6592,727.2522,258.5141,734.4618,265.225,731.8228,265.37,724.6131" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="214.2771" y="780.7218">1</text><!--MD5=[6da1e9376ccf778024c2dda488d8bec1]
reverse link ordering.PricingOffer to ordering.CurrencyValue--><path codeLine="59" d="M313.25,735.5031 C325.48,753.7131 339.66,774.8031 350.9,791.5431 " fill="none" id="ordering.PricingOffer-backto-ordering.CurrencyValue" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="305.93,724.6131,305.9563,731.8242,312.6228,734.5733,312.5965,727.3623,305.93,724.6131" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="337.9294" y="780.7218">1</text><!--MD5=[72c1ac5793899197c0b771266a6a955e]
link ordering.Size to ordering.MeasurementUnit--><path codeLine="64" d="M198,853.0731 C198,874.4731 198,904.0131 198,929.7131 " fill="none" id="ordering.Size-ordering.MeasurementUnit" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="30" x="199" y="896.02">uses</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="189.5125" y="919.0184">1</text><!--MD5=[7effa89b584fe64053e1e748d1851842]
link ordering.CurrencyValue to ordering.Currency--><path codeLine="77" d="M371,853.0731 C371,878.2031 371,914.5631 371,942.7431 " fill="none" id="ordering.CurrencyValue-ordering.Currency" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="30" x="372" y="896.02">uses</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="362.3875" y="932.0235">1</text><!--MD5=[0d58b1d009562ad85b8f32986fe14dce]
@startuml

title Coffee Shop Model

namespace ordering {

  class Order {
    +id: integer
    void addOrderItem(menuItem: MenuItem, quantity: integer, specialInstructions: String)
    void removeOrderItem(OrderItem orderItem)
    void submitForPayment()
    void cancel()
    CurrencyValue calculatePrice()
  }
  Order *- - "0..*" OrderItem
  Order o- - "0..1" Customer
  Order o- - "0..*" Promotions
  Order .. "1" OrderStatus: uses

  class OrderSubmittedForPayment <<event>> {
    +orderId: integer
    +calculatePrice: CurrencyValue
  }

  enum OrderStatus {
    RECEIVING
    PAYMENT_PENDING
    PAID
    READY
    COMPLETE
    CANCELLED
  }
  note "Orders are created in the RECEIVING status.\nsubmitForPayment() moves them to\nPAYMENT_PENDING they can no longer be\nupdated, but they can be reverted back to\nRECEIVING status. The order system waits\nfor an OrderPaid event to transition to PAID,\nand waits for OrderPrepared events for all\nthe OrderItems. Orders in RECEIVING status\ncan be cancelled" as n1
  OrderStatus .. n1

  class Customer {
    +id: integer
  }

  class OrderItem {
    +id: integer
    +specialInstructions: String
    +quantity: integer
  }
  OrderItem o- - "1" MenuItem
  OrderItem *- - "1" Size

  MenuItem *- - "1..*" FoodBeverage
  MenuItem *- - "1..*" PricingOffer

    class FoodBeverage {
    +name: String
    +description: String
  }

  class PricingOffer {
    +name: String
  }
  PricingOffer *- - "1" Size
  PricingOffer *- - "1" CurrencyValue

  class Size {
    +quanity: BigDecimal
  }
  Size .. "1" MeasurementUnit: uses

  enum MeasurementUnit {
    PIECES
    KILOGRAMS
    POUNDS
    LITRES
    FLUID_OUNCE
  }

  class CurrencyValue {
    +quanity: BigDecimal
  }
  CurrencyValue .. "1" Currency: uses

  enum Currency {
    US_DOLLAR
    MEXICAN_PESO
    BITCOIN
  }

}

namespace payment {

  note "TODO payment processing" as n1

}

namespace kitchen {

  note "TODO food and beverage order preparation" as n1

}

namespace supplier {

  note "TODO supplier" as n1

}

namespace management {

  note "TODO management" as n1

}

@enduml

PlantUML version 1.2021.00(Sun Jan 10 05:25:05 EST 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: null
--></g></svg>